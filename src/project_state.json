{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Rebuild ZELLO from scratch as a simple no-login web chat: users can create a session with an auto-generated code or join via code, with up to 6 participants, join notifications, typing indicators, and visible timestamps.",
  "architectural_notes": [],
  "known_issues": [
    "Create Session flow fails with error 'anonymous principals cannot create sessions' even after entering a display name; session/code is not created",
    "Footer copy update not applied: user requests changing attribution from \"by Ishu\" to \"by echu ❤️\" and removing the heart between \"with\" and \"using\"",
    "Create Session still failing at runtime after entering display name; user reports replica returned/rejected request (\"replica return or reject rejection\" with a request ID) when attempting to create a session"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-no-login-landing-page-with-a-simple-two-column-layout-1-create-session-column-with-inputs-for-display-name-and-a-button-to-generate-a-new-session-code-and-enter-the-chat-2-join-session-column-with-inputs-for-display-name-session-code-and-a-button-to-join-the-chat",
      "title": "Create a no-login landing page with a simple two-column layout: (1) Create Session column with inputs for Display Name and a button to generate a new session code and enter the chat; (2) Join Session column with inputs for Display Name + Session Code and a button to join the chat.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-in-session-group-chat-participants-can-send-messages-to-the-session-and-retrieve-messages-each-message-must-include-sender-display-name-and-a-visible-timestamp",
      "title": "Implement in-session group chat: participants can send messages to the session and retrieve messages; each message must include sender display name and a visible timestamp.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-show-participant-presence-and-join-notifications-existing-participants-should-see-when-a-new-person-enters-the-session-and-the-ui-should-display-the-current-participant-list",
      "title": "Show participant presence and join notifications: existing participants should see when a new person enters the session, and the UI should display the current participant list.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-typing-indicators-instagram-style-when-a-participant-is-typing-other-participants-should-see-a-small-animated-dots-indicator-under-that-participant-s-name-and-typing-state-should-expire-automatically-after-a-short-inactivity-window",
      "title": "Add typing indicators (Instagram-style): when a participant is typing, other participants should see a small animated dots indicator under that participant’s name, and typing state should expire automatically after a short inactivity window.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-session-ux-safeguards-validate-inputs-display-clear-errors-invalid-code-full-session-session-not-found-and-provide-a-simple-way-to-copy-share-the-session-code-after-creation",
      "title": "Add basic session UX safeguards: validate inputs, display clear errors (invalid code, full session, session not found), and provide a simple way to copy/share the session code after creation.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-simple-visual-theme-across-the-app-colors-typography-spacing-buttons-inputs-suitable-for-a-minimalist-chat-tool-avoid-blue-purple-as-primary-brand-colors",
      "title": "Apply a cohesive, simple visual theme across the app (colors, typography, spacing, buttons, inputs) suitable for a minimalist chat tool; avoid blue/purple as primary brand colors.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-create-session-flow-so-that-a-user-can-create-a-session-and-receive-a-generated-code-without-internet-identity-authentication-i-e-when-the-caller-principal-is-anonymous-the-system-must-allow-multiple-no-login-users-concurrently-by-using-a-client-provided-unique-participant-identifier-instead-of-relying-on-the-caller-principal-for-participant-identity",
      "title": "Fix the Create Session flow so that a user can create a session (and receive a generated code) without Internet Identity authentication (i.e., when the caller principal is anonymous). The system must allow multiple no-login users concurrently by using a client-provided unique participant identifier instead of relying on the caller principal for participant identity.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-session-storage-to-persist-a-per-browser-unique-participantid-and-include-it-in-all-backend-calls-that-require-participant-identity-create-session-join-session-send-message-typing-indicator-ensure-the-you-marker-and-join-notifications-continue-to-behave-correctly-using-this-participantid-not-display-name",
      "title": "Update frontend session storage to persist a per-browser unique participantId and include it in all backend calls that require participant identity (create session, join session, send message, typing indicator). Ensure the “(you)” marker and join notifications continue to behave correctly using this participantId (not display name).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-app-s-visual-theme-more-colorful-less-boring-while-keeping-a-cohesive-clean-ui-update-the-palette-and-key-surfaces-background-cards-accents-buttons-focus-rings-so-the-landing-page-and-chat-page-feel-noticeably-more-vibrant-without-using-blue-purple-as-the-primary-brand-color",
      "title": "Make the app’s visual theme more colorful (less “boring”) while keeping a cohesive, clean UI. Update the palette and key surfaces (background, cards, accents, buttons, focus rings) so the landing page and chat page feel noticeably more vibrant without using blue/purple as the primary brand color.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-increase-the-size-width-of-the-two-landing-page-columns-create-session-and-join-session-so-both-cards-feel-larger-on-desktop-and-update-the-footer-copy-to-include-attribution-to-ishita-ishu-while-keeping-all-user-facing-footer-text-in-english",
      "title": "Increase the size/width of the two landing page columns (Create Session and Join Session) so both cards feel larger on desktop, and update the footer copy to include attribution to Ishita/Ishu while keeping all user-facing footer text in English.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-create-session-ux-so-that-after-a-user-enters-their-name-and-creates-a-session-the-landing-page-clearly-shows-a-code-generated-confirmation-with-the-generated-code-provides-a-copy-to-clipboard-option-shows-a-session-created-confirmation-state-and-does-not-automatically-enter-the-chat-until-the-user-explicitly-chooses-to-join",
      "title": "Update the Create Session UX so that after a user enters their name and creates a session, the landing page clearly shows a “Code generated” confirmation with the generated code, provides a copy-to-clipboard option, shows a “Session created” confirmation state, and does not automatically enter the chat until the user explicitly chooses to join.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-chat-ui-to-allow-users-to-attach-and-send-a-photos-images-and-b-generic-files-as-messages-including-basic-previews-in-the-message-list-image-thumbnail-for-images-filename-download-open-control-for-files",
      "title": "Update the chat UI to allow users to attach and send (a) photos/images and (b) generic files as messages, including basic previews in the message list (image thumbnail for images, filename + download/open control for files).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-support-sending-and-displaying-clickable-links-in-chat-messages-containing-urls-should-render-those-urls-as-clickable-anchors-with-safe-attributes-while-preserving-normal-text-rendering-for-non-url-content",
      "title": "Support sending and displaying clickable links in chat: messages containing URLs should render those URLs as clickable anchors with safe attributes, while preserving normal text rendering for non-URL content.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-video-call-handoff-capability-for-a-session-participants-can-add-set-a-video-call-url-for-the-session-and-all-participants-can-see-and-open-the-current-video-call-url-from-within-the-chat-ui",
      "title": "Add a “video call handoff” capability for a session: participants can add/set a video call URL for the session, and all participants can see and open the current video call URL from within the chat UI.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-landing-page-footer-copy-so-the-attribution-text-reads-by-echu-replacing-the-existing-by-ishu-and-remove-the-heart-icon-that-currently-appears-between-the-words-with-and-using-in-the-phrase-built-with-heart-using-caffeine-ai-keep-all-other-footer-text-in-english-and-preserve-the-existing-caffeine-ai-link-url-and-tracking-parameters",
      "title": "Update the landing page footer copy so the attribution text reads \"by echu ❤️\" (replacing the existing \"by Ishu\"), and remove the heart icon that currently appears between the words \"with\" and \"using\" in the phrase \"Built with [heart] using caffeine.ai\". Keep all other footer text in English and preserve the existing caffeine.ai link URL and tracking parameters.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-all-video-call-ui-ux-from-the-chat-page-including-the-header-button-s-and-dialog-used-to-set-or-open-a-video-call-link",
      "title": "Remove all video call UI/UX from the chat page, including the header button(s) and dialog used to set or open a video call link.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-data-fetching-and-session-polling-logic-to-remove-any-dependency-on-video-call-related-backend-fields-or-methods",
      "title": "Update frontend data fetching and session polling logic to remove any dependency on video-call-related backend fields or methods.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-app-wide-dark-mode-feature-that-lets-users-switch-between-light-dark-and-system-theme-modes-and-apply-the-selected-mode-across-both-the-landing-page-and-chat-page",
      "title": "Implement an app-wide Dark Mode feature that lets users switch between Light, Dark, and System theme modes, and apply the selected mode across both the Landing page and Chat page.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-theme-toggle-control-to-the-ui-so-users-can-change-the-theme-mode-from-both-the-landingpage-header-and-the-chatpage-header-using-clear-english-labels-and-accessible-controls",
      "title": "Add a theme toggle control to the UI so users can change the theme mode from both the LandingPage header and the ChatPage header using clear English labels and accessible controls.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-chat-voice-message-feature-that-lets-a-user-record-audio-from-their-microphone-and-send-it-as-a-chat-message-attachment-voice-note-within-the-current-session-using-the-existing-message-attachment-pipeline",
      "title": "Add an in-chat voice message feature that lets a user record audio from their microphone and send it as a chat message attachment (voice note) within the current session, using the existing message/attachment pipeline.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-render-received-audio-attachments-in-the-message-list-with-an-inline-audio-player-play-pause-seek-when-an-attachment-has-an-audio-mime-type-and-keep-the-existing-download-action-available",
      "title": "Render received audio attachments in the message list with an inline audio player (play/pause/seek) when an attachment has an `audio/*` MIME type, and keep the existing download action available.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-attachment-picker-to-allow-selecting-audio-files-for-sending-in-addition-to-existing-accepted-file-types-without-removing-support-for-current-file-types",
      "title": "Update the attachment picker to allow selecting audio files for sending (in addition to existing accepted file types), without removing support for current file types.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-landing-page-create-session-ui-to-handle-the-backend-s-structured-createsession-response-and-to-display-clear-english-error-messages-when-the-replica-rejects-a-request-including-preserving-any-request-id-shown-by-the-agent-when-available",
      "title": "Update the frontend Landing Page Create Session UI to handle the backend’s structured createSession response and to display clear English error messages when the replica rejects a request (including preserving any request ID shown by the agent, when available).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-any-other-frontend-call-sites-that-rely-on-backend-methods-changed-in-req-26-e-g-joinsession-sendmessage-updatetypingindicator-getsessiondata-if-their-return-types-are-adjusted-so-the-app-compiles-and-all-session-chat-flows-continue-to-work-end-to-end",
      "title": "Update any other frontend call sites that rely on backend methods changed in REQ-26 (e.g., joinSession/sendMessage/updateTypingIndicator/getSessionData if their return types are adjusted) so the app compiles and all session/chat flows continue to work end-to-end.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "No-login simple web chat experience (anyone can use it without account/auth flow)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Two-column UI: left to create a session by entering name and generating a session code; right to join by entering name and an existing code",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Session system with generated codes for sharing and joining",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Group chat inside a session with participant cap of 6 people",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "In-session notifications when a new participant joins (visible to existing participants)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Typing indicator (Instagram-style dots) showing when another participant is typing",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Display message timestamps in chat",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Implement backend session management with generated share codes: creating a session returns a new unique short code and registers the creator as the first participant; joining a session by code registers the participant if capacity allows.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Update visual design to be more colorful (current theme feels too boring) while keeping a cohesive minimalist style",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Update footer copy: replace/augment '2026 build with love using caffeine.ai' to include attribution 'by Ishita'/'by Ishu'",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Increase the width/size of the Create Session and Join Session columns on the landing page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Support sending photos/images in chat messages",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Support sending files/attachments in chat messages",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Detect/allow sending clickable links in chat messages",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Improve Create Session UX: after entering name and creating session, show 'Code generated' with the code, provide a copy-to-clipboard button, and show 'Session created' confirmation before joining",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add support for sending image and file attachments as chat messages by extending the backend message model to carry either text content or an attachment payload (including filename, MIME type, and data), and enforce reasonable per-message size limits to prevent oversized payloads.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Remove the video call handoff feature from the backend API by deleting video-call-related session fields and methods (no video call URL stored per session, and no API to set it).",
      "reqIds": [
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add a Dark Mode theme option (toggle/system preference) for the app UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add voice messages: allow a user to record their voice and send it as an audio message in the group chat (with playback in the message list).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Fix the backend Create Session flow so it does not cause replica reject errors during normal use (e.g., when a user enters a valid display name and clicks “Create Session”), and ensure the backend returns a structured, user-safe error instead of trapping.",
      "reqIds": [
        "REQ-26"
      ],
      "status": "pending"
    }
  ],
  "projectName": "ZELLO",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}